{
  "title": "Params",
  "description": "Project parameters.",
  "type": "object",
  "properties": {
    "fit": {
      "title": "Fit",
      "description": "Parameters for model fit.",
      "allOf": [
        {
          "$ref": "#/definitions/Fit"
        }
      ]
    },
    "geometry": {
      "title": "Geometry",
      "description": "Geometry.",
      "allOf": [
        {
          "$ref": "#/definitions/Geometry"
        }
      ]
    },
    "paths": {
      "$ref": "#/definitions/Paths"
    }
  },
  "definitions": {
    "Fit": {
      "title": "Fit",
      "description": "Parameters for model fit.",
      "type": "object",
      "properties": {
        "model_inputs": {
          "title": "Model Inputs",
          "description": "Inputs to the symbolic model float evaluation stage.",
          "default": {
            "r": 0.0047625,
            "T_infa": 25.0,
            "T_infw": 100.0,
            "x_s": 0.0,
            "x_wa": 0.0381
          },
          "type": "object",
          "additionalProperties": {
            "type": "number"
          }
        },
        "model_bounds": {
          "title": "Model Bounds",
          "description": "Bounds for the model parameters. Not used if parameter is fixed.",
          "default": {
            "T_s": [
              -273.0,
              "inf"
            ],
            "q_s": [
              "-inf",
              "inf"
            ],
            "k": [
              0.001,
              "inf"
            ],
            "h_a": [
              0.001,
              "inf"
            ],
            "h_w": [
              0.001,
              "inf"
            ]
          },
          "type": "object",
          "additionalProperties": {
            "type": "array",
            "minItems": 2,
            "maxItems": 2,
            "items": [
              {
                "anyOf": [
                  {
                    "type": "number"
                  },
                  {
                    "enum": [
                      "-inf",
                      "inf"
                    ],
                    "type": "string"
                  }
                ]
              },
              {
                "anyOf": [
                  {
                    "type": "number"
                  },
                  {
                    "enum": [
                      "-inf",
                      "inf"
                    ],
                    "type": "string"
                  }
                ]
              }
            ]
          }
        },
        "initial_values": {
          "title": "Initial Values",
          "description": "Initial guess for free parameters, constant value otherwise.",
          "default": {
            "T_s": 100.0,
            "q_s": 10.0,
            "k": 400.0,
            "h_a": 1.0,
            "h_w": 1.0
          },
          "type": "object",
          "additionalProperties": {
            "type": "number"
          }
        },
        "fit_method": {
          "title": "Fit Method",
          "default": "trf",
          "type": "string"
        },
        "model_params": {
          "title": "Model Params",
          "default": [
            "T_s",
            "q_s",
            "k",
            "h_a",
            "h_w"
          ],
          "type": "array",
          "items": {}
        },
        "fixed_params": {
          "title": "Fixed Params",
          "default": [
            "k",
            "h_w"
          ],
          "type": "array",
          "items": {}
        },
        "free_params": {
          "title": "Free Params",
          "default": [
            "T_s",
            "q_s",
            "h_a"
          ],
          "type": "array",
          "items": {}
        },
        "free_errors": {
          "title": "Free Errors",
          "default": [
            "T_s_err",
            "q_s_err",
            "h_a_err"
          ],
          "type": "array",
          "items": {}
        },
        "model_errors": {
          "title": "Model Errors",
          "default": [
            "T_s_err",
            "q_s_err",
            "k_err",
            "h_a_err",
            "h_w_err"
          ],
          "type": "array",
          "items": {}
        },
        "fixed_errors": {
          "title": "Fixed Errors",
          "default": [
            "k_err",
            "h_w_err"
          ],
          "type": "array",
          "items": {}
        },
        "params_and_errors": {
          "title": "Params And Errors",
          "default": [
            "T_s",
            "q_s",
            "k",
            "h_a",
            "h_w",
            "T_s_err",
            "q_s_err",
            "k_err",
            "h_a_err",
            "h_w_err"
          ],
          "type": "array",
          "items": {}
        }
      }
    },
    "Geometry": {
      "title": "Geometry",
      "description": "The fixed geometry for the problem.",
      "type": "object",
      "properties": {
        "diameter": {
          "title": "Diameter",
          "description": "The common diameter of all rods.",
          "default": 0.375,
          "type": "number"
        },
        "rods": {
          "title": "Rods",
          "description": "Distance of each thermocouple from the cool side of the rod, starting with TC1. Fifth thermocouple may be omitted. Input: inch. Output: meter.",
          "default": {
            "X": [
              3.5253,
              3.05,
              2.5756,
              2.1006,
              0.3754
            ],
            "Y": [
              3.525,
              3.0504,
              2.5752,
              2.1008,
              0.3752
            ],
            "R": [
              4.1,
              3.625,
              3.15,
              2.675,
              0.95
            ],
            "W": [
              3.525,
              3.05,
              2.575,
              2.1,
              0.375
            ]
          },
          "type": "object",
          "additionalProperties": {
            "type": "array",
            "items": {
              "type": "number"
            }
          }
        },
        "coupons": {
          "title": "Coupons",
          "description": "Length of the coupon. Input: inch. Output: meter.",
          "default": {
            "A0": 0.0,
            "A1": 0.766,
            "A2": 0.77,
            "A3": 0.769,
            "A4": 0.746,
            "A5": 0.734,
            "A6": 0.75,
            "A7": 0.753,
            "A8": 0.753,
            "A9": 0.553
          },
          "type": "object",
          "additionalProperties": {
            "type": "number"
          }
        }
      }
    },
    "Paths": {
      "title": "Paths",
      "description": "Paths associated with this project.",
      "type": "object",
      "properties": {
        "project": {
          "title": "Project",
          "default": ".",
          "format": "directory-path",
          "type": "string"
        },
        "data": {
          "title": "Data",
          "default": "data",
          "format": "directory-path",
          "type": "string"
        },
        "benchmarks": {
          "title": "Benchmarks",
          "default": "data/benchmarks",
          "format": "directory-path",
          "type": "string"
        },
        "results": {
          "title": "Results",
          "default": "data/results",
          "format": "directory-path",
          "type": "string"
        },
        "notes": {
          "title": "Notes",
          "default": "data/notes",
          "format": "directory-path",
          "type": "string"
        },
        "package": {
          "title": "Package",
          "default": "src/boilerdaq",
          "format": "directory-path",
          "type": "string"
        },
        "stages": {
          "title": "Stages",
          "default": {
            "calibrate": "src/boilerdaq/stages/calibrate.py",
            "run": "src/boilerdaq/stages/run.py",
            "test": "src/boilerdaq/stages/test.py",
            "controlled_benchmark": "src/boilerdaq/stages/controlled/benchmark.py",
            "controlled_control": "src/boilerdaq/stages/controlled/control.py",
            "controlled_set_voltage": "src/boilerdaq/stages/controlled/set_voltage.py",
            "controlled_surface_control": "src/boilerdaq/stages/controlled/surface_control.py"
          },
          "type": "object",
          "additionalProperties": {
            "type": "string",
            "format": "file-path"
          }
        },
        "config": {
          "title": "Config",
          "default": "data/config",
          "format": "directory-path",
          "type": "string"
        },
        "plot_config": {
          "title": "Plot Config",
          "default": "data/plotting",
          "format": "directory-path",
          "type": "string"
        },
        "mpl_base": {
          "title": "Mpl Base",
          "default": "data/plotting/base.mplstyle",
          "format": "file-path",
          "type": "string"
        },
        "mpl_hide_title": {
          "title": "Mpl Hide Title",
          "default": "data/plotting/hide_title.mplstyle",
          "format": "file-path",
          "type": "string"
        },
        "model": {
          "title": "Model",
          "default": "data/model.dillpickle",
          "type": "string",
          "format": "path"
        },
        "sensors_path": {
          "title": "Sensors Path",
          "default": "data/config/1_sensors.csv",
          "type": "string",
          "format": "path"
        },
        "scaled_params_path": {
          "title": "Scaled Params Path",
          "default": "data/config/2_scaled_params.csv",
          "type": "string",
          "format": "path"
        },
        "flux_params_path": {
          "title": "Flux Params Path",
          "default": "data/config/3_flux_params.csv",
          "type": "string",
          "format": "path"
        },
        "extrap_params_path": {
          "title": "Extrap Params Path",
          "default": "data/config/4_extrap_params.csv",
          "type": "string",
          "format": "path"
        },
        "power_supplies_path": {
          "title": "Power Supplies Path",
          "default": "data/config/0_power_supplies.csv",
          "type": "string",
          "format": "path"
        }
      }
    }
  }
}
